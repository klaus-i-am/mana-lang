// Generated by mana-compiler from C:/dev/mana-lang/examples/result_test.mana
// Generated by mana-compiler
#include <cstdint>
#include <string>
#include <array>
#include <vector>
#include <tuple>
#include <cmath>
#include "mana_runtime.h"

mana::Result<int32_t, std::string> divide(int32_t a, int32_t b) {
    if ((b == 0)) {
        return mana::Err("division by zero");
    }
    return mana::Ok((a / b));
}

mana::Result<int32_t, std::string> calculate(int32_t x, int32_t y) {
    auto __try_0 = divide(x, y);
    if (__try_0.__is_err()) return mana::Err(__try_0.__unwrap_err());
    int32_t result = __try_0.__unwrap_ok();
    return mana::Ok((result * 2));
}

int32_t main() {
    mana::println("=== Result Type with Early Return Test ===");
    mana::println();
    mana::println("Testing calculate(10, 2):");
    mana::Result<int32_t, std::string> r3 = calculate(10, 2);
    if (r3.is_ok()) {
        mana::print("  Result: ");
        mana::println(r3.unwrap());
    }
    mana::println("Testing calculate(10, 0):");
    mana::Result<int32_t, std::string> r4 = calculate(10, 0);
    if (r4.is_err()) {
        mana::println("  Error propagated via early return!");
    }
    mana::println();
    mana::println("Done!");
    return 0;
}

